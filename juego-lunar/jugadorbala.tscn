[gd_scene load_steps=4 format=3 uid="uid://dogjk1a3f6ryi"]

[ext_resource type="Texture2D" uid="uid://6dq413wojs8y" path="res://812d261d-8cfd-4b21-8204-9d974a23c5e0.png" id="1_j160e"]

[sub_resource type="GDScript" id="GDScript_euywb"]
resource_name = "JugadorBala"
script/source = "extends Area2D

var speed = 400.0
var direction = Vector2.RIGHT # Lo cambiaremos al disparar

func _physics_process(delta):
	global_position += direction * speed * delta

func _on_body_entered(body):
	# Si choca con un enemigo, le hace da√±o
	if body.is_in_group(\"enemies\"):
		body.recibir_dano(25) # Cada bala quita 25 de vida

	# Se destruye al chocar con cualquier cosa (excepto el propio jugador)
	queue_free()

func _on_visible_on_screen_notifier_2d_screen_exited():
	queue_free()
"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_540li"]
radius = 0.99985886
height = 7.99887

[node name="jugadorbala" type="Area2D"]
position = Vector2(2, -16)
collision_layer = 16
collision_mask = 5
script = SubResource("GDScript_euywb")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(1.4518145, -0.6142288)
rotation = -1.5696803
scale = Vector2(0.0054893154, 0.0066815135)
texture = ExtResource("1_j160e")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(2, -1)
rotation = -1.5876021
shape = SubResource("CapsuleShape2D_540li")

[node name="VisibleOnScreenNotifier2D" type="VisibleOnScreenNotifier2D" parent="."]
position = Vector2(3, 4)
rect = Rect2(-44, -29, 88, 41)

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
[connection signal="screen_exited" from="VisibleOnScreenNotifier2D" to="." method="_on_visible_on_screen_notifier_2d_screen_exited"]
